{% extends 'PartyBag/base.html' %}
{% block content %}

<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='PartyBag/categories.css') }}">
</head>

<h1>Add-Ons & Extras</h1>
<h2>Pick the perfect finishing touches for your party bags.</h2>

{% if products %}
<div class="extras-grid">
    {% for product in products %}
    <div class="category-card extras-card">
        <a href="{{ url_for('partybags.product', product_id=product.id) }}">
            {% if product.image %}
            <img src="{{ url_for('static', filename=product.image) }}" alt="{{ product.name }}" width="220" height="220">
            {% else %}
            <img src="{{ url_for('static', filename='imgs/no_image.png') }}" alt="No image" width="220" height="220">
            {% endif %}
            <p>{{ product.name }}</p>
            <p>£{{ product.price }}</p>
        </a>

        {% if product.stock > 0 %}
        <form action="{{ url_for('partybags.add_to_cart', product_id=product.id) }}" method="POST">
            <input type="hidden" name="quantity" value="1">
            <button type="submit">Add to Cart</button>
        </form>
        {% else %}
        <p style="color:red;">Out of stock</p>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% else %}
<div class="row-of-whatever">
    <h1>No extras are available right now – please check back soon!</h1>
</div>
{% endif %}

{% endblock %}
